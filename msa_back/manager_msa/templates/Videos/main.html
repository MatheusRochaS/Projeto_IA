{% extends "base.html" %}
{% load static %}

{% block title %}Cadastro{% endblock %}

{% block styles %}<link rel="stylesheet" href="{% static 'css/main.css'%}">{% endblock %}

{% block content %}

<!-- Slider main container -->
<div class="container">
    <!-- <div class="swiper mb-3">
         Additional required wrapper
        <div class="swiper-wrapper">
            Slides
            <div class="swiper-slide text-white"><img src="{% static 'img/gen-v.jpg' %}" alt="" class="img object-fit-md-cover"></div>
            <div class="swiper-slide text-white"><img src="{% static 'img/gen-v.jpg' %}" alt="" class="img object-fit-md-cover"></div>
            <div class="swiper-slide text-white"><img src="{% static 'img/gen-v.jpg' %}" alt="" class="img object-fit-md-cover"></div>
        </div>
        If we need pagination 
        <div class="swiper-pagination"></div>
    
        If we need navigation buttons 
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    
        If we need scrollbar
        <div class="swiper-scrollbar"></div> 
    </div> -->

    <div id="carousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner rounded my-3">
          <div class="carousel-item active">
            <img src="{% static 'img/gen-v.jpg' %}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block shadow-inset">
              <h5>First slide label</h5>
              <p>Some representative placeholder content for the first slide.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'img/gen-v.jpg' %}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>Second slide label</h5>
              <p>Some representative placeholder content for the second slide.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'img/gen-v.jpg' %}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>Third slide label</h5>
              <p>Some representative placeholder content for the third slide.</p>
            </div>
          </div>
        </div>
        <!-- <button class="carousel-control-prev" type="button" data-bs-target="#carousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button> -->
    </div>

    <div class="container mb-3">
        <h2 class="text-white mb-3">Recomendações para você</h2>
        
        <div class="row mb-3">
            <!-- Swiper -->
            <div class="mb-3">
                <div class="swiper mySwiper">
                    <div class="swiper-wrapper">
                        {% for video in videos.results %}
                
                        {% if video.media_type == 'tv' %}
                        <div class="swiper-slide">
                            <div class="card col-md-2" style="width: 11rem; padding-inline: 0 !important; height: 20rem;">
                                <div class="card-body" style="padding: 0.5rem !important;">
                                    <div class="d-flex justify-content-center mb-2">
                                        <img class="text-center" src="https://www.themoviedb.org/t/p/w220_and_h330_face/{{video.poster_path}}" alt="" style="width: 11rem; height: 13rem;" data-swiper-parallax="-300">
                                    </div>
                                    <div class="align-middle">
                                        <div class="mb-1">
                                            <h6 class="card-subtitle text-black">{{video.name}}</h6>
                                        </div>
                                        <div class="d-flex justify-content-between align-items-end mt-auto">
                                            <span class="card-text fs-6">{{ video.first_air_date }}</span>
                                            {% if video.vote_average >= 7 %}
                                            <span class="badge text-bg-success">
                                                <i class="fa-solid fa-star me-1"></i>
                                                {{ video.vote_average|floatformat:1 }}
                                            </span>
                                            {% elif video.vote_average >= 5 %}
                                            <span class="badge text-bg-warning">
                                                <i class="fa-solid fa-star me-1"></i>
                                                {{ video.vote_average|floatformat:1 }}
                                            </span>
                                            {% else %}
                                            <span class="badge text-bg-danger">
                                                <i class="fa-solid fa-star me-1"></i>
                                                {{ video.vote_average|floatformat:1 }}
                                            </span>
                                            {% endif %}
                                        </div>
                                    </div>
                                    <a href="{% url 'infos' video.id %}" class="stretched-link"></a>
                                </div>
                            </div>
                        </div>

                        {% else %}

                        <div class="swiper-slide">
                            <div class="card col-md-2" style="width: 11rem; padding-inline: 0 !important; height: 20rem;">
                                <div class="card-body" style="padding: 0.5rem !important;">
                                    <div class="d-flex justify-content-center mb-2">
                                        <img class="text-center" src="https://www.themoviedb.org/t/p/w220_and_h330_face/{{video.poster_path}}" alt="" style="width: 11rem; height: 13rem;" data-swiper-parallax="-300">
                                    </div>
                                    <div class="align-middle">
                                        <div class="mb-1">
                                            <h6 class="card-subtitle text-black">{{video.title}}</h6>
                                        </div>
                                        <div class="d-flex justify-content-between align-items-end mt-auto">
                                            <span class="card-text fs-6">{{ video.release_date }}</span>
                                            {% if video.vote_average >= 7 %}
                                            <span class="badge text-bg-success">
                                                <i class="fa-solid fa-star me-1"></i>
                                                {{ video.vote_average|floatformat:1 }}
                                            </span>
                                            {% elif video.vote_average >= 5 %}
                                            <span class="badge text-bg-warning">
                                                <i class="fa-solid fa-star me-1"></i>
                                                {{ video.vote_average|floatformat:1 }}
                                            </span>
                                            {% else %}
                                            <span class="badge text-bg-danger">
                                                <i class="fa-solid fa-star me-1"></i>
                                                {{ video.vote_average|floatformat:1 }}
                                            </span>
                                            {% endif %}
                                        </div>
                                    </div>
                                    <a href="{% url 'infos' video.id %}" class="stretched-link"></a>
                                </div>
                            </div>
                        </div>

                        {% endif %}
                        {% endfor %}
                    </div>
                    <!-- If we need navigation buttons  -->
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                    <!-- <div class="swiper-pagination"></div> -->
                </div>
            </div>
        </div>


        <h2 class="text-white mb-3">Filmes</h2>
        <div class="mb-3">
            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    {% for movie in movies.results %}
                    <div class="swiper-slide">
                        <div class="card col-md-2" style="width: 11rem; padding-inline: 0 !important; height: 20rem;">
                            <div class="card-body" style="padding: 0.5rem !important;">
                                <div class="d-flex justify-content-center mb-2">
                                    <img class="text-center" src="https://www.themoviedb.org/t/p/w220_and_h330_face/{{movie.poster_path}}" alt="" style="width: 11rem; height: 13rem;" data-swiper-parallax="-300">
                                </div>
                                <div class="align-middle">
                                    <div class="mb-1">
                                        <h6 class="card-subtitle text-black">{{movie.title}}</h6>
                                    </div>
                                    <div class="d-flex justify-content-between align-items-end mt-auto">
                                        <span class="card-text fs-6">{{ movie.release_date }}</span>
                                        {% if movie.vote_average >= 7 %}
                                        <span class="badge text-bg-success">
                                            <i class="fa-solid fa-star me-1"></i>
                                            {{ movie.vote_average|floatformat:1 }}
                                        </span>
                                        {% elif movie.vote_average >= 5 %}
                                        <span class="badge text-bg-warning">
                                            <i class="fa-solid fa-star me-1"></i>
                                            {{ movie.vote_average|floatformat:1 }}
                                        </span>
                                        {% else %}
                                        <span class="badge text-bg-danger">
                                            <i class="fa-solid fa-star me-1"></i>
                                            {{ movie.vote_average|floatformat:1 }}
                                        </span>
                                        {% endif %}
                                    </div>
                                </div>
                                <a href="{% url 'infos' movie.id %}" class="stretched-link"></a>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <!-- If we need navigation buttons  -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                <!-- <div class="swiper-pagination"></div> -->
            </div>
        </div>
        <h2 class="text-white mb-3">Séries</h2>
        <div class="mb-3">
            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    {% for serie in series.results %}
                    <div class="swiper-slide">
                        <div class="card col-md-2" style="width: 11rem; padding-inline: 0 !important; height: 20rem;">
                            <div class="card-body" style="padding: 0.5rem !important;">
                                <div class="d-flex justify-content-center mb-2">
                                    <img class="text-center" src="https://www.themoviedb.org/t/p/w220_and_h330_face/{{serie.poster_path}}" alt="" style="width: 11rem; height: 13rem;" data-swiper-parallax="-300">
                                </div>
                                <div class="align-middle">
                                    <div class="mb-1">
                                        <h6 class="card-subtitle text-black">{{serie.name}}</h6>
                                    </div>
                                    <div class="d-flex justify-content-between align-items-end mt-auto">
                                        <span class="card-text fs-6">{{ serie.first_air_date }}</span>
                                        {% if serie.vote_average >= 7 %}
                                        <span class="badge text-bg-success">
                                            <i class="fa-solid fa-star me-1"></i>
                                            {{ serie.vote_average|floatformat:1 }}
                                        </span>
                                        {% elif serie.vote_average >= 5 %}
                                        <span class="badge text-bg-warning">
                                            <i class="fa-solid fa-star me-1"></i>
                                            {{ serie.vote_average|floatformat:1 }}
                                        </span>
                                        {% else %}
                                        <span class="badge text-bg-danger">
                                            <i class="fa-solid fa-star me-1"></i>
                                            {{ serie.vote_average|floatformat:1 }}
                                        </span>
                                        {% endif %}
                                    </div>
                                </div>
                                <a href="{% url 'infos' serie.id %}" class="stretched-link"></a>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <!-- If we need navigation buttons  -->
                <!-- <div class="swiper-pagination"></div> -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
        <!-- <h2 class="text-white mb-3">Animes</h2> -->
    </div>
</div>


{% block scripts %} 
<script>
    // import Swiper from 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.mjs'
  
    // const swiper = new Swiper('.swiper',{
    // // Optional parameters
    // //   direction: 'horizontal',
    // speed: 600,
    // parallax: true,
    // loop: true,
    // autoplay: {
    //     delay: 3000,
    //     disableOnInteraction: true,
    // },

    // // If we need pagination
    // pagination: {
    //     el: '.swiper-pagination',
    // },

    // // Navigation arrows
    // navigation: {
    //     nextEl: '.swiper-button-next',
    //     prevEl: '.swiper-button-prev',
    // },
    // })

    const myCarouselElement = document.querySelector('#carousel')

    new bootstrap.Carousel(myCarouselElement, {
        interval: 3000,
        touch: true
    })

    var swiper = new Swiper(".mySwiper", {
      slidesPerView: 2,
      spaceBetween: 10,
      loop: true,
      pagination: {
        el: ".swiper-pagination",
        clickable: false,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      },
      breakpoints: {
        640: {
          slidesPerView: 2,
          spaceBetween: 20,
        },
        768: {
          slidesPerView: 4,
          spaceBetween: 40,
        },
        1024: {
          slidesPerView: 6,
          spaceBetween: 50,
        },
      },
    });
</script>
{% endblock scripts %}
{% endblock %}